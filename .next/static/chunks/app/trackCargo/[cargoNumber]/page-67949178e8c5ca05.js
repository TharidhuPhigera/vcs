try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1e750735-f9d4-4c09-bd87-dae1db75ad9f",e._sentryDebugIdIdentifier="sentry-dbid-1e750735-f9d4-4c09-bd87-dae1db75ad9f")}catch(e){}try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1e750735-f9d4-4c09-bd87-dae1db75ad9f",e._sentryDebugIdIdentifier="sentry-dbid-1e750735-f9d4-4c09-bd87-dae1db75ad9f")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{8569:(e,t,l)=>{Promise.resolve().then(l.bind(l,7238))},7238:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>r});var s=l(5155),a=l(6046),i=l(2115),d=l(5565);function r(e){let{params:t}=e,[l,r]=(0,i.useState)(null),[n,c]=(0,i.useState)(null),[o,m]=(0,i.useState)(!1),[h,x]=(0,i.useState)(!1),b=(0,i.useRef)(null),u=(0,a.useRouter)();(0,i.useEffect)(()=>{t.then(e=>{c(e.cargoNumber)})},[t]),(0,i.useEffect)(()=>{n&&f(n)},[n]);let f=async e=>{try{let t=await fetch("".concat("/api/cargoClient","?referenceNumber=").concat(e));if(!t.ok)throw Error("Failed to fetch cargo data");let l=await t.json();r(l)}catch(e){console.error("Error fetching cargo data:",e)}},w=()=>{m(!o),o&&x(!1)},g=()=>{b.current&&(h?b.current.pause():b.current.play(),x(!h))},j=()=>{var e;return null!=l&&!!l.imageUrl&&["mp4","mov","avi","webm"].includes((null===(e=l.imageUrl.split(".").pop())||void 0===e?void 0:e.toLowerCase())||"")};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#001a33] to-[#004d66] flex flex-col items-center justify-center relative text-white overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,s.jsx)("div",{className:"absolute w-64 h-64 bg-[#00b5e2] rounded-full opacity-20 animate-blob animation-delay-2000 top-1/4 left-1/4"}),(0,s.jsx)("div",{className:"absolute w-64 h-64 bg-[#009ec1] rounded-full opacity-20 animate-blob animation-delay-4000 top-1/2 right-1/4"}),(0,s.jsx)("div",{className:"absolute w-64 h-64 bg-[#007399] rounded-full opacity-20 animate-blob animation-delay-6000 bottom-1/4 left-1/2"})]}),(0,s.jsx)("div",{className:"absolute top-0 w-full flex justify-end p-4 z-10",children:(0,s.jsx)("button",{onClick:()=>u.push("/"),className:"text-white bg-black/20 backdrop-blur-md px-4 py-2 rounded-lg hover:bg-black/30 transition border border-white/10",children:"Home"})}),(0,s.jsxs)("div",{className:"text-center mb-8 z-10",children:[(0,s.jsx)("h1",{className:"text-5xl font-bold text-white drop-shadow-lg",children:"Track Cargo"}),(0,s.jsx)("p",{className:"text-lg text-white/80 mt-2",children:"Your Cargo Details"})]}),l?(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl shadow-2xl p-8 w-full max-w-2xl border border-white/10 z-10",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Reference Number"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:l.referenceNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Status"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:l.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Origin"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:l.origin})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Destination"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:l.destination})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Estimated Delivery"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:new Date(l.estimatedDelivery).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Unit Count"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:l.unitCount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Payment"}),(0,s.jsxs)("p",{className:"text-white font-semibold",children:["€",l.payment]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium",children:"Note"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:l.note})]})]})]}),l.imageUrl&&(0,s.jsxs)("div",{className:"mt-6 text-center",children:[(0,s.jsx)("label",{className:"block text-white/80 font-medium mb-2",children:j()?"Cargo Video":"Cargo Image"}),(0,s.jsx)("div",{className:"relative w-64 h-64 mx-auto cursor-pointer",onClick:w,children:j()?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("video",{src:l.imageUrl,className:"w-full h-full object-cover rounded-lg border border-white/10",muted:!0,loop:!0}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 rounded-lg",children:(0,s.jsx)("div",{className:"w-16 h-16 bg-white/30 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11v11.78a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(d.default,{src:l.imageUrl,alt:"Cargo Media",fill:!0,className:"object-cover rounded-lg border border-white/10",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})}),(0,s.jsxs)("p",{className:"text-sm text-white/60 mt-2",children:["Click to ",j()?"play video":"view image"]})]})]}):(0,s.jsx)("p",{className:"text-center text-white z-10",children:"Loading cargo details..."}),o&&(null==l?void 0:l.imageUrl)&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 backdrop-blur-sm",onClick:w,children:(0,s.jsxs)("div",{className:"relative w-full max-w-4xl bg-gray-900 rounded-xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-800",children:[(0,s.jsxs)("h2",{className:"text-lg font-medium text-white",children:[l.referenceNumber," - ",j()?"Video":"Image"]}),(0,s.jsx)("button",{onClick:w,className:"text-white hover:text-gray-300 text-xl p-1 transition-colors",children:"✖"})]}),(0,s.jsx)("div",{className:"p-2 bg-black",children:j()?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("video",{ref:b,src:l.imageUrl,className:"w-full max-h-[80vh]",controls:!0,autoPlay:!0,onClick:g}),(0,s.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:(0,s.jsx)("button",{onClick:g,className:"bg-white/20 backdrop-blur-md rounded-full p-3 text-white hover:bg-white/30 transition",children:h?(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M5 4a1 1 0 00-1 1v10a1 1 0 002 0V5a1 1 0 00-1-1zm8 0a1 1 0 00-1 1v10a1 1 0 002 0V5a1 1 0 00-1-1z"})}):(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11v11.78a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):(0,s.jsx)("div",{className:"relative w-full h-[80vh]",children:(0,s.jsx)(d.default,{src:l.imageUrl,alt:"Cargo Media",fill:!0,className:"object-contain",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[738,850,441,221,358],()=>t(8569)),_N_E=e.O()}]);