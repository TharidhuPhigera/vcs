try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8cce3611-94a1-4890-85c5-de105d5d4b64",e._sentryDebugIdIdentifier="sentry-dbid-8cce3611-94a1-4890-85c5-de105d5d4b64")}catch(e){}try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8cce3611-94a1-4890-85c5-de105d5d4b64",e._sentryDebugIdIdentifier="sentry-dbid-8cce3611-94a1-4890-85c5-de105d5d4b64")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{7093:(e,t,s)=>{Promise.resolve().then(s.bind(s,7472))},7472:(e,t,s)=>{"use strict";s.d(t,{SignUp:()=>i});var r=s(5155),a=s(2115),n=s(6046);let l=e=>{let{children:t,className:s}=e;return(0,r.jsx)("div",{className:"flex flex-col space-y-2 w-full ".concat(s),children:t})};function i(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[d,o]=(0,a.useState)("employee"),[c,u]=(0,a.useState)(null),[h,p]=(0,a.useState)(!1),g=(0,n.useRouter)(),f=async t=>{if(t.preventDefault(),!e||!s||!d){u("All fields are required.");return}if(s.length<8){u("Password must be at least 8 characters long.");return}p(!0);try{let t=await fetch("/api/userExists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok){let e=await t.text();throw console.error("Error checking if user exists:",e),Error("Failed to check if user exists.")}if((await t.json()).userExists){u("Username already exists."),p(!1);return}let r=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s,role:d})});if(r.ok)g.push("/login");else{let e=await r.json();u(e.message||"User registration failed.")}}catch(e){console.error("Error during registration:",e),u("Error during registration.")}finally{p(!1)}};return(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{htmlFor:"username",className:"text-white",children:"Username"}),(0,r.jsx)("input",{id:"username",value:e,onChange:e=>t(e.target.value),placeholder:"Enter username",type:"text",className:"bg-black text-white p-2 rounded"})]}),(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{htmlFor:"password",className:"text-white",children:"Password"}),(0,r.jsx)("input",{id:"password",value:s,onChange:e=>i(e.target.value),placeholder:"••••••••",type:"password",className:"bg-black text-white p-2 rounded"})]}),(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{htmlFor:"role",className:"text-white",children:"Role"}),(0,r.jsxs)("select",{id:"role",value:d,onChange:e=>o(e.target.value),className:"bg-black text-white p-2 rounded",children:[(0,r.jsx)("option",{value:"employee",children:"Employee"}),(0,r.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-black text-white rounded-md py-2 hover:bg-gray-800 transition",disabled:h,children:h?"Signing Up...":"Sign Up"}),c&&(0,r.jsx)("p",{className:"text-red-600 text-sm mt-2",children:c}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-transparent via-neutral-300 dark:via-neutral-700 to-transparent my-8 h-[1px] w-full"}),(0,r.jsx)("div",{className:"flex flex-col space-y-4",children:(0,r.jsx)("button",{type:"button",onClick:()=>g.push("/login"),className:"w-full bg-black text-white rounded-md py-2 hover:bg-gray-800 transition",children:"Log In"})})]})}},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[850,441,221,358],()=>t(7093)),_N_E=e.O()}]);